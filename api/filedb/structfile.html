<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>filedb.structfile module &mdash; Whoosh-Reloaded 3.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="formats module" href="../formats.html" />
    <link rel="prev" title="filedb.filetables module" href="filetables.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Whoosh-Reloaded
          </a>
              <div class="version">
                3.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../releases/index.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart.html">Quick start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../intro.html">Introduction to Whoosh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../schema.html">Designing a schema</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../indexing.html">How to index documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../searching.html">How to search</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../parsing.html">Parsing user queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../querylang.html">The default query language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dates.html">Indexing and parsing dates/times</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query.html">Query objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../analysis.html">About analyzers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../stemming.html">Stemming, variations, and accent folding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ngrams.html">Indexing and searching N-grams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../facets.html">Sorting and faceting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../highlight.html">How to create highlighted search result excerpts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../keywords.html">Query expansion and Key word extraction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../spelling.html">“Did you mean… ?” Correcting errors in user queries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fieldcaches.html">Field caches</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../batch.html">Tips for speeding up batch indexing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../threads.html">Concurrency, locking, and versioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nested.html">Indexing and searching document hierarchies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../recipes.html">Whoosh recipes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Whoosh API</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../analysis.html"><code class="docutils literal notranslate"><span class="pre">analysis</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../codec/base.html"><code class="docutils literal notranslate"><span class="pre">codec.base</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../collectors.html"><code class="docutils literal notranslate"><span class="pre">collectors</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../columns.html"><code class="docutils literal notranslate"><span class="pre">columns</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fields.html"><code class="docutils literal notranslate"><span class="pre">fields</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="filestore.html"><code class="docutils literal notranslate"><span class="pre">filedb.filestore</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="filetables.html"><code class="docutils literal notranslate"><span class="pre">filedb.filetables</span></code> module</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="docutils literal notranslate"><span class="pre">filedb.structfile</span></code> module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#whoosh.filedb.structfile.StructFile"><code class="docutils literal notranslate"><span class="pre">StructFile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#whoosh.filedb.structfile.BufferFile"><code class="docutils literal notranslate"><span class="pre">BufferFile</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#whoosh.filedb.structfile.ChecksumFile"><code class="docutils literal notranslate"><span class="pre">ChecksumFile</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../formats.html"><code class="docutils literal notranslate"><span class="pre">formats</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../highlight.html"><code class="docutils literal notranslate"><span class="pre">highlight</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../idsets.html"><code class="docutils literal notranslate"><span class="pre">support.bitvector</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html"><code class="docutils literal notranslate"><span class="pre">index</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lang/morph_en.html"><code class="docutils literal notranslate"><span class="pre">lang.morph_en</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lang/porter.html"><code class="docutils literal notranslate"><span class="pre">lang.porter</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lang/wordnet.html"><code class="docutils literal notranslate"><span class="pre">lang.wordnet</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../matching.html"><code class="docutils literal notranslate"><span class="pre">matching</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qparser.html"><code class="docutils literal notranslate"><span class="pre">qparser</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../query.html"><code class="docutils literal notranslate"><span class="pre">query</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reading.html"><code class="docutils literal notranslate"><span class="pre">reading</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scoring.html"><code class="docutils literal notranslate"><span class="pre">scoring</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../searching.html"><code class="docutils literal notranslate"><span class="pre">searching</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sorting.html"><code class="docutils literal notranslate"><span class="pre">sorting</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../spelling.html"><code class="docutils literal notranslate"><span class="pre">spelling</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/charset.html"><code class="docutils literal notranslate"><span class="pre">support.charset</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../support/levenshtein.html"><code class="docutils literal notranslate"><span class="pre">support.levenshtein</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../util.html"><code class="docutils literal notranslate"><span class="pre">util</span></code> module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../writing.html"><code class="docutils literal notranslate"><span class="pre">writing</span></code> module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tech/index.html">Technical notes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Whoosh-Reloaded</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">Whoosh API</a></li>
      <li class="breadcrumb-item active"><code class="docutils literal notranslate"><span class="pre">filedb.structfile</span></code> module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/filedb/structfile.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-whoosh.filedb.structfile">
<span id="filedb-structfile-module"></span><h1><code class="docutils literal notranslate"><span class="pre">filedb.structfile</span></code> module<a class="headerlink" href="#module-whoosh.filedb.structfile" title="Permalink to this heading">¶</a></h1>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">whoosh.filedb.structfile.</span></span><span class="sig-name descname"><span class="pre">StructFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fileobj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A “structured file” object that wraps a given file object and provides
additional methods for writing and reading structured data.</p>
<p>This class provides a convenient way to work with structured data in a file.
It wraps a file object and adds methods for reading and writing various data
types, such as strings, integers, floats, and arrays.</p>
<section id="usage">
<h3>Usage:<a class="headerlink" href="#usage" title="Permalink to this heading">¶</a></h3>
<p>To use the StructFile class, create an instance by passing a file object to
the constructor:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;wb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">file</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">sf</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
<p>You can then use the various methods provided by StructFile to read and write
data:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">write_string</span><span class="p">(</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">write_int</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sf</span><span class="o">.</span><span class="n">write_float</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>
</pre></div>
</div>
<p>To read data from the file, use the corresponding read methods:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">string</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">read_string</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">integer</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">read_int</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">float_num</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">read_float</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="methods">
<h3>Methods:<a class="headerlink" href="#methods" title="Permalink to this heading">¶</a></h3>
<p>The StructFile class provides the following methods:</p>
<ul class="simple">
<li><p>read: Read a specified number of bytes from the file.</p></li>
<li><p>write: Write data to the file.</p></li>
<li><p>read_string: Read a string from the file.</p></li>
<li><p>write_string: Write a string to the file.</p></li>
<li><p>read_int: Read an integer from the file.</p></li>
<li><p>write_int: Write an integer to the file.</p></li>
<li><p>read_float: Read a float from the file.</p></li>
<li><p>write_float: Write a float to the file.</p></li>
<li><p>read_array: Read an array from the file.</p></li>
<li><p>write_array: Write an array to the file.</p></li>
<li><p>seek: Move the file pointer to a specified position.</p></li>
<li><p>tell: Get the current position of the file pointer.</p></li>
<li><p>flush: Flush the buffer of the wrapped file.</p></li>
<li><p>close: Close the wrapped file.</p></li>
</ul>
</section>
<section id="note">
<h3>Note:<a class="headerlink" href="#note" title="Permalink to this heading">¶</a></h3>
<p>The StructFile class is designed to work with binary files. It provides
methods for reading and writing various data types in their binary
representation. Make sure to open the file in binary mode when using
StructFile.</p>
<p>Initialize a StructFile object.</p>
<dl class="field-list simple">
<dt class="field-odd">param fileobj<span class="colon">:</span></dt>
<dd class="field-odd"><p>The file-like object to be wrapped by the StructFile.</p>
</dd>
<dt class="field-even">type fileobj<span class="colon">:</span></dt>
<dd class="field-even"><p>file-like object</p>
</dd>
<dt class="field-odd">param name<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the file. Defaults to None.</p>
</dd>
<dt class="field-even">type name<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param onclose<span class="colon">:</span></dt>
<dd class="field-odd"><p>A callable object to be called when the StructFile is closed. Defaults to None.</p>
</dd>
<dt class="field-even">type onclose<span class="colon">:</span></dt>
<dd class="field-even"><p>callable, optional</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.file">
<span class="sig-name descname"><span class="pre">file</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.file" title="Permalink to this definition">¶</a></dt>
<dd><p>The wrapped file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>file-like object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile._name">
<span class="sig-name descname"><span class="pre">_name</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile._name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.onclose">
<span class="sig-name descname"><span class="pre">onclose</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.onclose" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable object to be called when the StructFile is closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.is_closed">
<span class="sig-name descname"><span class="pre">is_closed</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.is_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the StructFile is closed or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.is_real">
<span class="sig-name descname"><span class="pre">is_real</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.is_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the wrapped file-like object has a fileno() method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.fileno">
<span class="sig-name descname"><span class="pre">fileno</span></span><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>The fileno() method of the wrapped file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>method</p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The StructFile is a wrapper around a file-like object that provides additional functionality.
It keeps track of the file’s name, whether it is closed, and whether it is a real file object.
The fileno() method is only available if the wrapped file-like object has a fileno() method.</p>
</div>
<dl>
<dt>Usage:</dt><dd><p># Create a StructFile object
fileobj = open(“example.txt”, “r”)
struct_file = StructFile(fileobj, “example.txt”, onclose=my_callback)</p>
<p># Access the wrapped file object
file = struct_file.file</p>
<p># Check if the StructFile is closed
is_closed = struct_file.is_closed</p>
<p># Check if the wrapped file object is a real file object
is_real = struct_file.is_real</p>
<p># Call the onclose callback when the StructFile is closed
struct_file.onclose = my_callback</p>
<p># Get the fileno of the wrapped file object
fileno = struct_file.fileno()</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes the wrapped file.</p>
<p>This method closes the file object that is being wrapped by the StructFile.
It is important to close the file after using it to free up system resources
and ensure data integrity.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If the file is already closed.</p>
</dd>
</dl>
<dl>
<dt>Usage:</dt><dd><p>To close the StructFile object, simply call the close() method:</p>
<p>file = StructFile(…)
file.close()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.flush">
<span class="sig-name descname"><span class="pre">flush</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.flush"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the buffer of the wrapped file. This is a no-op if the
wrapped file does not have a flush method.</p>
<p>This method ensures that any buffered data in the file is written to the underlying storage.
It is recommended to call this method after performing write operations to ensure data integrity.</p>
<dl class="simple">
<dt>Usage:</dt><dd><p>file = StructFile(…)
# Perform write operations
file.flush()</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the wrapped file does not have a flush method, this method does nothing.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a specified number of bytes from the file starting at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file to start reading from.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of bytes to read from the file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The bytes read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.12)"><strong>OSError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_array">
<span class="sig-name descname"><span class="pre">get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an array of elements from the file starting at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file to start reading from.</p></li>
<li><p><strong>typecode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The typecode of the elements in the array.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of elements to read.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list containing the elements read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.12)">list</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.12)"><strong>OSError</strong></a> – If there is an error reading the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>To read an array of 10 integers starting from position 100 in the file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get_array</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_byte">
<span class="sig-name descname"><span class="pre">get_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_byte" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a single byte from the file at the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file from which to retrieve the byte.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The byte value at the specified position.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../index.html#whoosh.index.IndexError" title="whoosh.index.IndexError"><strong>IndexError</strong></a> – If the position is out of range.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p># Create a StructFile object
file = StructFile(“data.bin”)</p>
<p># Get the byte at position 10
byte = file.get_byte(10)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_float">
<span class="sig-name descname"><span class="pre">get_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a float value from the file at the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file where the float value is located.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The float value retrieved from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../index.html#whoosh.index.IndexError" title="whoosh.index.IndexError"><strong>IndexError</strong></a> – If the position is out of range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_int">
<span class="sig-name descname"><span class="pre">get_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an integer value from the file at the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file from which to retrieve the integer value.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The integer value retrieved from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../index.html#whoosh.index.IndexError" title="whoosh.index.IndexError"><strong>IndexError</strong></a> – If the position is out of range.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_long">
<span class="sig-name descname"><span class="pre">get_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_long"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_long" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a long integer value from the file at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file from which to read the long integer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The long integer value read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If the position is out of bounds or if the file is not open.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>This method reads a long integer value from the file at the specified position.</p></li>
<li><p>The file must be open before calling this method.</p></li>
<li><p>The position must be a valid position within the file.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_sbyte">
<span class="sig-name descname"><span class="pre">get_sbyte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_sbyte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_sbyte" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a signed byte (8-bit integer) from the file at the specified position.</p>
<p>Parameters:
- position (int): The position in the file from which to read the signed byte.</p>
<p>Returns:
- int: The signed byte value read from the file.</p>
<p>Raises:
- IndexError: If the position is out of range.</p>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file</span> <span class="pre">=</span> <span class="pre">StructFile(&quot;data.bin&quot;)</span>
<span class="pre">byte</span> <span class="pre">=</span> <span class="pre">file.get_sbyte(10)</span>
<span class="pre">print(byte)</span>&#160; <span class="pre">#</span> <span class="pre">Output:</span> <span class="pre">-42</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_string2">
<span class="sig-name descname"><span class="pre">get_string2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_string2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_string2" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a string from the file at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file where the string starts.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the string and the position of the next byte after the string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)">tuple</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../index.html#whoosh.index.IndexError" title="whoosh.index.IndexError"><strong>IndexError</strong></a> – If the position is out of range.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads the length of the string from the file, and then reads the string itself.
The length of the string is stored as an unsigned short (2 bytes) at the given position.
The string is read from the file starting at <cite>pos + 2</cite> and its length is determined by the value read from the file.
The returned tuple contains the string and the position of the next byte after the string.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">string</span><span class="p">,</span> <span class="n">next_pos</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">get_string2</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_string4">
<span class="sig-name descname"><span class="pre">get_string4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_string4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_string4" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a string from the file at the given position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>pos</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file where the string starts.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A tuple containing the string and the position of the next byte after the string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.12)">tuple</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If the position is invalid or the string length is negative.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads the length of the string from the file at the given position,
then reads the string itself from the file. It returns the string and the position
of the next byte after the string.</p>
<p>The string is read from the file using the <cite>get</cite> method, which reads a specified
number of bytes from the file starting at a given position.</p>
<p>Example usage:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">string,</span> <span class="pre">next_pos</span> <span class="pre">=</span> <span class="pre">structfile.get_string4(10)</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_uint">
<span class="sig-name descname"><span class="pre">get_uint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_uint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_uint" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an unsigned integer from the file at the given position.</p>
<p>Parameters:
- position (int): The position in the file from which to read the unsigned integer.</p>
<p>Returns:
- int: The unsigned integer value read from the file.</p>
<p>Raises:
- IndexError: If the position is out of range.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_ulong">
<span class="sig-name descname"><span class="pre">get_ulong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_ulong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_ulong" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an unsigned long integer from the file at the specified position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>position</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The position in the file from which to read the unsigned long integer.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The unsigned long integer value read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../index.html#whoosh.index.IndexError" title="whoosh.index.IndexError"><strong>IndexError</strong></a> – If the position is out of range.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The unsigned long integer is read from the file using the <cite>get</cite> method.</p></li>
<li><p>The <cite>unpack_ulong</cite> function is used to convert the byte string to an unsigned long integer.</p></li>
<li><p>Only the first value of the unpacked result is returned.</p></li>
</ul>
<p class="rubric">Example</p>
<p># Create a StructFile object
file = StructFile(“data.bin”)</p>
<p># Read an unsigned long integer from the file at position 100
value = file.get_ulong(100)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.get_ushort">
<span class="sig-name descname"><span class="pre">get_ushort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">position</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.get_ushort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.get_ushort" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an unsigned short integer (2 bytes) from the file at the specified position.</p>
<p>Parameters:
- position (int): The position in the file from which to read the unsigned short integer.</p>
<p>Returns:
- ushort (int): The unsigned short integer value read from the file.</p>
<p>Raises:
- IndexError: If the position is out of range.</p>
<p>Example:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file</span> <span class="pre">=</span> <span class="pre">StructFile(&quot;data.bin&quot;)</span>
<span class="pre">ushort_value</span> <span class="pre">=</span> <span class="pre">file.get_ushort(10)</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.raw_file">
<span class="sig-name descname"><span class="pre">raw_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.raw_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.raw_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the raw file object associated with this StructFile.</p>
<p>This method returns the underlying file object that is used by the StructFile
instance. It can be used to perform low-level file operations directly on the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The raw file object associated with this StructFile.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>file</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p># Open a StructFile
sf = StructFile(“data.bin”, “rb”)</p>
<p># Get the raw file object
f = sf.raw_file()</p>
<p># Perform low-level file operations
f.seek(0)
data = f.read(1024)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Modifying the raw file object directly may lead to unexpected behavior and
should be done with caution. It is recommended to use the methods provided by
the StructFile class for reading and writing data to the file.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read">
<span class="sig-name descname"><span class="pre">read</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read data from the file.</p>
<p>This method reads data from the file and returns it. It delegates the actual reading
operation to the underlying file object.</p>
<p>Parameters:
<a href="#id1"><span class="problematic" id="id2">*</span></a>args: Variable length argument list to be passed to the underlying file object’s read method.
<a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs: Arbitrary keyword arguments to be passed to the underlying file object’s read method.</p>
<p>Returns:
The data read from the file.</p>
<p>Example usage:
file = StructFile(“example.txt”)
data = file.read(10)  # Read 10 bytes from the file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_array">
<span class="sig-name descname"><span class="pre">read_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">typecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Read an array of elements from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>typecode</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The typecode of the array elements.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The number of elements to read.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The array of elements read from the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>array</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If the file is in “real” mode, the array is read using the <cite>fromfile</cite> method of the array object.</p></li>
<li><p>If the file is not in “real” mode, the array is read using the <cite>read</cite> method of the file object and then converted to an array using the <cite>frombytes</cite> method of the array object.</p></li>
<li><p>If the system is little-endian, the byte order of the array is swapped using the <cite>byteswap</cite> method of the array object.</p></li>
</ul>
<p class="rubric">Example</p>
<p># Create a StructFile object
file = StructFile(“data.bin”)</p>
<p># Read an array of integers from the file
arr = file.read_array(‘i’, 10)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_byte">
<span class="sig-name descname"><span class="pre">read_byte</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_byte" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a single byte from the file and returns its integer value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The integer value of the byte read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_float">
<span class="sig-name descname"><span class="pre">read_float</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a single floating-point number from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The floating-point number read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)">float</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_int">
<span class="sig-name descname"><span class="pre">read_int</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an integer value from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The integer value read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_long">
<span class="sig-name descname"><span class="pre">read_long</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_long"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_long" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a long integer from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The long integer read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads a long integer from the file using the <cite>read</cite> method of the file object.
The long integer is unpacked from the binary data using the <cite>unpack_long</cite> function.
The <cite>unpack_long</cite> function returns a tuple, and the first element of the tuple is returned as the result.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_long</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_pickle">
<span class="sig-name descname"><span class="pre">read_pickle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a pickled object from the wrapped file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The pickled object read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)">object</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#EOFError" title="(in Python v3.12)"><strong>EOFError</strong></a> – If the end of the file is reached before a pickled object is found.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/pickle.html#pickle.UnpicklingError" title="(in Python v3.12)"><strong>pickle.UnpicklingError</strong></a> – If there is an error while unpickling the object.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_sbyte">
<span class="sig-name descname"><span class="pre">read_sbyte</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_sbyte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_sbyte" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a signed byte from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The signed byte value read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads a single byte from the file and interprets it as a signed value.
The byte is unpacked using the <cite>unpack_sbyte</cite> function, which returns a tuple.
The first element of the tuple is the signed byte value, which is then returned.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">byte</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_sbyte</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">byte</span><span class="p">)</span>
<span class="go">-42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_string">
<span class="sig-name descname"><span class="pre">read_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a string from the wrapped file.</p>
<p>This method reads a string from the file by first reading the length of the string
using the <cite>read_varint</cite> method, and then reading the actual string using the <cite>read</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_string2">
<span class="sig-name descname"><span class="pre">read_string2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_string2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_string2" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a string from the file.</p>
<p>This method reads a string from the file by first reading the length of the string as an unsigned short,
and then reading the actual string data from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
<dl class="simple">
<dt>Usage:</dt><dd><p>string = read_string2()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_string4">
<span class="sig-name descname"><span class="pre">read_string4</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_string4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_string4" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a string from the file.</p>
<p>This method reads a string from the file by first reading the length of the string
as an integer using the <cite>read_int()</cite> method, and then reading the actual string
using the <cite>read()</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The string read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_svarint">
<span class="sig-name descname"><span class="pre">read_svarint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_svarint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_svarint" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a variable-length encoded signed integer from the wrapped file.</p>
<p>This method reads a variable-length encoded signed integer from the wrapped file.
It uses the <cite>read_varint</cite> function to read the variable-length encoded integer,
and then decodes it as a signed integer using the <cite>decode_signed_varint</cite> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The decoded signed integer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_svarint</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_tagint">
<span class="sig-name descname"><span class="pre">read_tagint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_tagint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_tagint" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a sometimes-compressed unsigned integer from the wrapped file.</p>
<p>This method reads an unsigned integer from the file. The integer can be
stored in two different formats: a compressed format and a faster but
less compressed format.</p>
<p>The compressed format uses a single byte to represent the integer. If
the first byte read from the file is 254, the integer is stored in the
compressed format and can be retrieved using the <cite>read_ushort()</cite> method.
If the first byte is 255, the integer is stored in the compressed format
and can be retrieved using the <cite>read_uint()</cite> method. Otherwise, the first
byte represents the integer itself.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned integer read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>Suppose we have a file with the following bytes: [253, 42]. Calling
<cite>read_tagint()</cite> on this file will return 253, as the first byte
represents the integer itself.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method assumes that the file is opened in binary mode.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_uint">
<span class="sig-name descname"><span class="pre">read_uint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_uint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_uint" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an unsigned integer from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned integer read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_uint_le">
<span class="sig-name descname"><span class="pre">read_uint_le</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_uint_le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_uint_le" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an unsigned integer from the file using little-endian byte order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned integer read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads an unsigned integer from the file using little-endian byte order.
It assumes that the file is opened in binary mode.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_uint_le</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_ulong">
<span class="sig-name descname"><span class="pre">read_ulong</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_ulong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_ulong" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an unsigned long integer from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned long integer read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while reading from the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method reads a fixed-size unsigned long integer from the file. The size of the
unsigned long integer is determined by the <cite>_LONG_SIZE</cite> constant.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_ulong</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_ushort">
<span class="sig-name descname"><span class="pre">read_ushort</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_ushort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_ushort" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an unsigned short (2 bytes) from the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned short value read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_ushort_le">
<span class="sig-name descname"><span class="pre">read_ushort_le</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_ushort_le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_ushort_le" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads an unsigned short (2 bytes) from the file in little-endian byte order.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The unsigned short value read from the file.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">value</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">read_ushort_le</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.read_varint">
<span class="sig-name descname"><span class="pre">read_varint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.read_varint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.read_varint" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads a variable-length encoded unsigned integer from the wrapped
file.</p>
<p>This method reads a variable-length encoded unsigned integer from the
file object that is wrapped by this StructFile instance. The integer
is encoded using a variable-length encoding scheme, where the number
of bytes used to represent the integer depends on its value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The decoded unsigned integer.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If there is an error reading from the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;data.bin&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">sf</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">value</span> <span class="o">=</span> <span class="n">sf</span><span class="o">.</span><span class="n">read_varint</span><span class="p">()</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
<span class="go">42</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method assumes that the file object is positioned at the
start of the encoded integer. After reading the integer, the file
object’s position will be advanced by the number of bytes read.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.readline">
<span class="sig-name descname"><span class="pre">readline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.readline"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.readline" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and return a line from the file.</p>
<p>This method reads a line from the file and returns it as a string. It delegates the actual reading to the underlying file object.</p>
<p>Parameters:
<a href="#id5"><span class="problematic" id="id6">*</span></a>args: Variable length argument list to be passed to the underlying file object’s readline method.
<a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs: Arbitrary keyword arguments to be passed to the underlying file object’s readline method.</p>
<p>Returns:
str: The line read from the file.</p>
<p>Raises:
Any exceptions raised by the underlying file object’s readline method.</p>
<p>Example:
&gt;&gt;&gt; file = StructFile(“example.txt”)
&gt;&gt;&gt; line = file.readline()
&gt;&gt;&gt; print(line)
“This is an example line.”</p>
<p>Note:
This method assumes that the file has been opened in text mode.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.seek">
<span class="sig-name descname"><span class="pre">seek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.seek"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the file position to the given offset.</p>
<p>This method is a wrapper around the <cite>seek</cite> method of the underlying file object.
It allows you to change the current position within the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – Variable length argument list to be passed to the <cite>seek</cite> method.</p></li>
<li><p><strong>**kwargs</strong> – Arbitrary keyword arguments to be passed to the <cite>seek</cite> method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new absolute position within the file.</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.12)"><strong>OSError</strong></a> – If an error occurs while seeking the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>To seek to the beginning of the file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file.seek(0)</span>
<span class="pre">`</span></code></p>
<p>To seek to a specific offset from the current position:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file.seek(10,</span> <span class="pre">1)</span>
<span class="pre">`</span></code></p>
<p>To seek to a specific offset from the end of the file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file.seek(-10,</span> <span class="pre">2)</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.skip_string">
<span class="sig-name descname"><span class="pre">skip_string</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.skip_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.skip_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Skips a string in the file.</p>
<p>This method reads the length of the string from the file using the <cite>read_varint</cite> method,
and then seeks forward in the file by that length.</p>
<p>Note:
- This method assumes that the file pointer is positioned at the start of the string.
- The <cite>read_varint</cite> method is responsible for reading the variable-length integer that</p>
<blockquote>
<div><p>represents the length of the string.</p>
</div></blockquote>
<p>Returns:
None</p>
<p>Raises:
IOError: If there is an error reading or seeking in the file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a subset of the current StructFile object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>offset</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The starting offset of the subset, in bytes.</p></li>
<li><p><strong>length</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The length of the subset, in bytes.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the subset. If not provided, the name of the current StructFile object is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A new StructFile object representing the subset.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#whoosh.filedb.structfile.StructFile" title="whoosh.filedb.structfile.StructFile">StructFile</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>None.</strong> – </p>
</dd>
</dl>
<p class="rubric">Example</p>
<p># Create a StructFile object
sf = StructFile(file, name=”example.txt”)</p>
<p># Get a subset of the StructFile object
subset = sf.subset(10, 20, name=”subset.txt”)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.tell">
<span class="sig-name descname"><span class="pre">tell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.tell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current file position.</p>
<p>This method returns the current file position in bytes. It delegates the call to the underlying file object’s <cite>tell()</cite> method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Optional positional arguments to be passed to the <cite>tell()</cite> method of the underlying file object.</p></li>
<li><p><strong>kwargs</strong> – Optional keyword arguments to be passed to the <cite>tell()</cite> method of the underlying file object.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current file position in bytes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.truncate">
<span class="sig-name descname"><span class="pre">truncate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.truncate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.truncate" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates the file to the specified size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – Variable length argument list.</p></li>
<li><p><strong>**kwargs</strong> – Arbitrary keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The new size of the file after truncation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.12)"><strong>OSError</strong></a> – If an error occurs while truncating the file.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is a wrapper around the <cite>truncate</cite> method of the underlying file object.</p>
</div>
<p class="rubric">Example</p>
<p># Truncate the file to 100 bytes
size = file.truncate(100)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the specified data to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> – Variable length argument list.</p></li>
<li><p><strong>**kwargs</strong> – Arbitrary keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The number of bytes written to the file.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)">int</a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#OSError" title="(in Python v3.12)"><strong>OSError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>To write a string to the file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method delegates the write operation to the underlying file object.</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_array">
<span class="sig-name descname"><span class="pre">write_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an array to the file.</p>
<p>This method writes the given array to the file. If the system is little-endian,
the array is first byte-swapped before writing. If the file is a real file,
the array is written using the <cite>tofile()</cite> method. Otherwise, the array is
converted to bytes and written using the <cite>write()</cite> method.</p>
<p>Parameters:
- arry (array): The array to be written to the file.</p>
<p>Returns:
None</p>
<p>Raises:
None</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_byte">
<span class="sig-name descname"><span class="pre">write_byte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_byte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_byte" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a single byte to the wrapped file.</p>
<p>This method writes a single byte to the file object that is wrapped by the StructFile instance.
It is a shortcut for calling <cite>file.write(chr(n))</cite>.</p>
<p>Parameters:
- n (int): The byte value to be written to the file. Must be an integer between 0 and 255.</p>
<p>Raises:
- TypeError: If the provided value <cite>n</cite> is not an integer.
- ValueError: If the provided value <cite>n</cite> is not within the valid range of 0 to 255.</p>
<p>Example:
<a href="#id9"><span class="problematic" id="id10">``</span></a>`
with open(“data.bin”, “wb”) as file:</p>
<blockquote>
<div><p>struct_file = StructFile(file)
struct_file.write_byte(65)  # Writes the ASCII value for ‘A’ to the file</p>
</div></blockquote>
<p><a href="#id11"><span class="problematic" id="id12">``</span></a><a href="#id13"><span class="problematic" id="id14">`</span></a></p>
<p>Note:
This method assumes that the file object is opened in binary mode (‘b’).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_float">
<span class="sig-name descname"><span class="pre">write_float</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_float"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_float" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a floating-point number to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><em>float</em></a>) – The floating-point number to write.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method uses the <cite>pack_float</cite> function to convert the floating-point number
into a binary representation before writing it to the file.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="s2">&quot;data.bin&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_float</span><span class="p">(</span><span class="mf">3.14</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_int">
<span class="sig-name descname"><span class="pre">write_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_int"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an integer to the file.</p>
<p>Parameters:
- n (int): The integer to be written.</p>
<p>Returns:
None</p>
<p>Raises:
- TypeError: If the input is not an integer.</p>
<p>Notes:
- This method writes the integer to the file using the pack_int function.
- The pack_int function converts the integer into a binary representation.
- The binary representation is then written to the file.
- If the input is not an integer, a TypeError is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_long">
<span class="sig-name descname"><span class="pre">write_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_long"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_long" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a long integer to the file.</p>
<p>Parameters:
- n (int): The long integer to be written.</p>
<p>Returns:
None</p>
<p>Raises:
- IOError: If an error occurs while writing to the file.</p>
<p>Notes:
- This method writes the long integer to the file using the pack_long function.
- The pack_long function converts the long integer into a binary representation.
- The binary representation is then written to the file.
- If an error occurs while writing to the file, an IOError is raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_pickle">
<span class="sig-name descname"><span class="pre">write_pickle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_pickle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_pickle" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a pickled representation of obj to the wrapped file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><em>object</em></a>) – The object to be pickled and written to the file.</p></li>
<li><p><strong>protocol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a><em>, </em><em>optional</em>) – The pickling protocol to use. Default is -1.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/pickle.html#pickle.PicklingError" title="(in Python v3.12)"><strong>pickle.PicklingError</strong></a> – If an error occurs during pickling.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method uses the <cite>pickle.dump()</cite> function to write a pickled representation
of the given object to the file. The pickling protocol determines the format
in which the object is serialized. The default protocol (-1) uses the highest
available protocol supported by the Python interpreter.</p>
<p class="rubric">Example</p>
<p># Create a StructFile object
file = StructFile(“data.bin”)</p>
<p># Write a list object to the file using pickle
data = [1, 2, 3, 4, 5]
file.write_pickle(data)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_sbyte">
<span class="sig-name descname"><span class="pre">write_sbyte</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_sbyte"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_sbyte" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a signed byte to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The signed byte value to write.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>The signed byte value should be within the range of -128 to 127.</p></li>
<li><p>The file should be opened in binary mode before calling this method.</p></li>
</ul>
<p class="rubric">Example</p>
<p>To write a signed byte value of -42 to the file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_sbyte</span><span class="p">(</span><span class="o">-</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_string">
<span class="sig-name descname"><span class="pre">write_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a string to the wrapped file.</p>
<p>This method writes the length of the string first, so you can read the string back
without having to know how long it was.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The string to be written.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_string2">
<span class="sig-name descname"><span class="pre">write_string2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_string2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_string2" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a string to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The string to be written.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If the input is not a string.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes the length of the string as an unsigned short (2 bytes) followed by the string itself.
The length of the string is encoded using the <cite>pack_ushort</cite> function.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_string2</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_string4">
<span class="sig-name descname"><span class="pre">write_string4</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_string4"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_string4" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a string to the file using a custom 4-byte length prefix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>s</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a>) – The string to be written.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If the input is not a string.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes the length of the string as a 4-byte integer
followed by the string itself. The length prefix allows for efficient
reading of the string later on.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_string4</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_svarint">
<span class="sig-name descname"><span class="pre">write_svarint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_svarint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_svarint" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a variable-length signed integer to the wrapped file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The signed integer to be written.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes a variable-length signed integer to the file. The integer is encoded using a
variable-length encoding scheme, where the most significant bit of each byte indicates whether
there are more bytes to follow. This allows for efficient storage of integers that can have a
wide range of values.</p>
<p>The method uses the <cite>signed_varint</cite> function to encode the integer before writing it to the file.</p>
<p class="rubric">Example</p>
<p>To write a signed integer to a file:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file</span> <span class="pre">=</span> <span class="pre">StructFile(&quot;data.bin&quot;)</span>
<span class="pre">file.write_svarint(-42)</span>
<span class="pre">file.close()</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_tagint">
<span class="sig-name descname"><span class="pre">write_tagint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_tagint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_tagint" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a sometimes-compressed unsigned integer to the wrapped file.</p>
<p>The write_tagint method is used to write an unsigned integer to the file. It uses a
sometimes-compressed format for faster writing. The method supports numbers from 0 to
2^32-1.</p>
<p>Parameters:
- i (int): The unsigned integer to be written to the file.</p>
<p>Notes:
- Numbers from 0 to 253 are stored in one byte.
- Byte 254 indicates that an unsigned 16-bit integer follows.
- Byte 255 indicates that an unsigned 32-bit integer follows.</p>
<p>Example usage:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">file</span> <span class="pre">=</span> <span class="pre">StructFile()</span>
<span class="pre">file.write_tagint(42)</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_uint">
<span class="sig-name descname"><span class="pre">write_uint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_uint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_uint" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an unsigned integer to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The unsigned integer to write.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes the unsigned integer <cite>n</cite> to the file. The integer is encoded using the <cite>pack_uint</cite> function.</p>
<p class="rubric">Example</p>
<p>file.write_uint(42)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_uint_le">
<span class="sig-name descname"><span class="pre">write_uint_le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_uint_le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_uint_le" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an unsigned integer in little-endian format to the file.</p>
<p>Parameters:
- n (int): The unsigned integer to write.</p>
<p>Returns:
None</p>
<p>Raises:
- TypeError: If the input is not an integer.
- ValueError: If the input is a negative integer.</p>
<p>Example:
&gt;&gt;&gt; file.write_uint_le(42)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_ulong">
<span class="sig-name descname"><span class="pre">write_ulong</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_ulong"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_ulong" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an unsigned long integer to the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>n</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The unsigned long integer to write.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#IOError" title="(in Python v3.12)"><strong>IOError</strong></a> – If an error occurs while writing to the file.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes an unsigned long integer to the file using the pack_ulong function.
The pack_ulong function converts the integer into a byte string representation according to the platform’s byte order.
The resulting byte string is then written to the file.</p>
<p class="rubric">Example</p>
<p>To write the unsigned long integer 123456789 to the file:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_ulong</span><span class="p">(</span><span class="mi">123456789</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_ushort">
<span class="sig-name descname"><span class="pre">write_ushort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_ushort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_ushort" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an unsigned short integer (2 bytes) to the file.</p>
<p>Parameters:
- n (int): The unsigned short integer to be written.</p>
<p>Returns:
None</p>
<p>Raises:
- IOError: If an error occurs while writing to the file.</p>
<p>Usage:
file.write_ushort(42)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_ushort_le">
<span class="sig-name descname"><span class="pre">write_ushort_le</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_ushort_le"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_ushort_le" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes an unsigned short integer (2 bytes) in little-endian byte order to the file.</p>
<p>Parameters:
- n (int): The unsigned short integer to be written.</p>
<p>Returns:
None</p>
<p>Raises:
- IOError: If an error occurs while writing to the file.</p>
<p>Usage:
file.write_ushort_le(65535)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.StructFile.write_varint">
<span class="sig-name descname"><span class="pre">write_varint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#StructFile.write_varint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.StructFile.write_varint" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a variable-length unsigned integer to the wrapped file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>i</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><em>int</em></a>) – The integer value to be written.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.12)"><strong>TypeError</strong></a> – If the input value is not an integer.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.12)"><strong>ValueError</strong></a> – If the input value is negative.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method writes a variable-length unsigned integer to the file. The integer value is encoded using a
variable-length encoding scheme, where smaller values require fewer bytes to represent. The encoded value
is written to the file using the <cite>write</cite> method of the wrapped file object.</p>
<p class="rubric">Example</p>
<p>To write the integer value 42 to the file, you can use the following code:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">file</span> <span class="o">=</span> <span class="n">StructFile</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">file</span><span class="o">.</span><span class="n">write_varint</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</section>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">whoosh.filedb.structfile.</span></span><span class="sig-name descname"><span class="pre">BufferFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#BufferFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A class representing a file stored in memory as a buffer.</p>
<p>This class provides methods to manipulate and retrieve data from the buffer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile._buf">
<span class="sig-name descname"><span class="pre">_buf</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile._buf" title="Permalink to this definition">¶</a></dt>
<dd><p>The buffer containing the file data.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)">bytes</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile._name">
<span class="sig-name descname"><span class="pre">_name</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile._name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.file">
<span class="sig-name descname"><span class="pre">file</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.file" title="Permalink to this definition">¶</a></dt>
<dd><p>A BytesIO object representing the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>BytesIO</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.onclose">
<span class="sig-name descname"><span class="pre">onclose</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.onclose" title="Permalink to this definition">¶</a></dt>
<dd><p>A callback function to be called when the file is closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.is_real">
<span class="sig-name descname"><span class="pre">is_real</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.is_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the file is a real file or a buffer.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.is_closed">
<span class="sig-name descname"><span class="pre">is_closed</span></span><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.is_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the file is closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">onclose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#BufferFile.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a BufferFile object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.subset">
<span class="sig-name descname"><span class="pre">subset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#BufferFile.subset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new BufferFile object representing a subset of the current file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#BufferFile.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a portion of the file data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.BufferFile.get_array">
<span class="sig-name descname"><span class="pre">get_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">typecode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">length</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#BufferFile.get_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.BufferFile.get_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves an array of data from the file.</p>
</dd></dl>

<p>Initializes a BufferFile object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>buf</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.12)"><em>bytes</em></a>) – The buffer containing the file data.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the file. Defaults to None.</p></li>
<li><p><strong>onclose</strong> (<em>callable</em><em>, </em><em>optional</em>) – A callback function to be called when the file is closed. Defaults to None.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">whoosh.filedb.structfile.</span></span><span class="sig-name descname"><span class="pre">ChecksumFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/whoosh/filedb/structfile.html#ChecksumFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile" title="Permalink to this definition">¶</a></dt>
<dd><p>A file-like object that calculates a checksum of the data read or written.</p>
<p>This class inherits from StructFile and provides additional functionality to calculate a checksum
using the CRC32 algorithm from the zlib module. The checksum is updated as data is read or written.</p>
<p>Note: This class does not support seeking.</p>
<p>Usage:
- Create an instance of ChecksumFile by passing the file path or file object to the constructor.
- Read or write data using the file-like methods provided by ChecksumFile.
- Call the checksum() method to get the calculated checksum.</p>
<p>Example:
<a href="#id15"><span class="problematic" id="id16">``</span></a>`
with ChecksumFile(“data.txt”, “rb”) as file:</p>
<blockquote>
<div><p>data = file.read(1024)
print(file.checksum())</p>
</div></blockquote>
<p><a href="#id17"><span class="problematic" id="id18">``</span></a><a href="#id19"><span class="problematic" id="id20">`</span></a></p>
<p>Attributes:
- _check: The current checksum value.
- _crc32: The CRC32 function from the zlib module.</p>
<p>Methods:
- __iter__(): Returns an iterator over the lines of the file.
- seek(): Raises a ValueError as seeking is not supported.
- read(): Reads data from the file and updates the checksum.
- write(): Writes data to the file and updates the checksum.
- checksum(): Returns the calculated checksum.</p>
<p>Initialize a StructFile object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fileobj</strong> (<em>file-like object</em>) – The file-like object to be wrapped by the StructFile.</p></li>
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><em>str</em></a><em>, </em><em>optional</em>) – The name of the file. Defaults to None.</p></li>
<li><p><strong>onclose</strong> (<em>callable</em><em>, </em><em>optional</em>) – A callable object to be called when the StructFile is closed. Defaults to None.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile.file">
<span class="sig-name descname"><span class="pre">file</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile.file" title="Permalink to this definition">¶</a></dt>
<dd><p>The wrapped file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>file-like object</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile._name">
<span class="sig-name descname"><span class="pre">_name</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile._name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the file.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)">str</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile.onclose">
<span class="sig-name descname"><span class="pre">onclose</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile.onclose" title="Permalink to this definition">¶</a></dt>
<dd><p>A callable object to be called when the StructFile is closed.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile.is_closed">
<span class="sig-name descname"><span class="pre">is_closed</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile.is_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the StructFile is closed or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile.is_real">
<span class="sig-name descname"><span class="pre">is_real</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile.is_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates whether the wrapped file-like object has a fileno() method.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)">bool</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="whoosh.filedb.structfile.ChecksumFile.fileno">
<span class="sig-name descname"><span class="pre">fileno</span></span><a class="headerlink" href="#whoosh.filedb.structfile.ChecksumFile.fileno" title="Permalink to this definition">¶</a></dt>
<dd><p>The fileno() method of the wrapped file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>method</p>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The StructFile is a wrapper around a file-like object that provides additional functionality.
It keeps track of the file’s name, whether it is closed, and whether it is a real file object.
The fileno() method is only available if the wrapped file-like object has a fileno() method.</p>
</div>
<dl>
<dt>Usage:</dt><dd><p># Create a StructFile object
fileobj = open(“example.txt”, “r”)
struct_file = StructFile(fileobj, “example.txt”, onclose=my_callback)</p>
<p># Access the wrapped file object
file = struct_file.file</p>
<p># Check if the StructFile is closed
is_closed = struct_file.is_closed</p>
<p># Check if the wrapped file object is a real file object
is_real = struct_file.is_real</p>
<p># Call the onclose callback when the StructFile is closed
struct_file.onclose = my_callback</p>
<p># Get the fileno of the wrapped file object
fileno = struct_file.fileno()</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="filetables.html" class="btn btn-neutral float-left" title="filedb.filetables module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../formats.html" class="btn btn-neutral float-right" title="formats module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2007-2012 Matt Chaput.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>